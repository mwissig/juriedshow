<div class="view" id="show">
<div class="frame">
<svg viewBox='0 0 400 400' width='400' height='400' xmlns='http://www.w3.org/2000/svg'>
  <rect width='100%' height='100%' fill='<%= @painting.color4 %>'/>
    <path d='<%= @painting.coords3 %>z' stroke='<%= @painting.color1 %>' fill='<%= @painting.color1 %>'/>
    <path d='<%= @painting.coords2 %> z' stroke='<%= @painting.color2 %>' fill='<%= @painting.color2 %>'/>
    <path d='<%= @painting.coords1 %> z' stroke='<%= @painting.color3 %>' fill='<%= @painting.color3 %>'/></svg>
</div>
<h2><%= @painting.title %> by <%= @painting.artist %></h2>
<h3><%= @painting.points %> points</h3>
<canvas hidden></canvas>
<div class="download">
<img width="50" height="50"> ‚Üê Right click and "save image as" to download 1000px PNG image.
</div>
</div>
<div>
<script>
var mySVG    = document.querySelector('svg'),      // Inline SVG element
    tgtImage = document.querySelector('img'),      // Where to draw the result
    can      = document.createElement('canvas'), // Not shown on page
    ctx      = can.getContext('2d'),
    loader   = new Image;                        // Not shown on page

loader.width  = can.width  = 1000;
loader.height = can.height = 1000;
loader.onload = function(){
  ctx.drawImage( loader, 0, 0, loader.width, loader.height );
  tgtImage.src = can.toDataURL();
};
var svgAsXML = (new XMLSerializer).serializeToString( mySVG );
loader.src = 'data:image/svg+xml,' + encodeURIComponent( svgAsXML );
</script>
